<?xml version="1.0" encoding="UTF-8"?>
<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.0.0 https://maven.apache.org/xsd/assembly-2.0.0.xsd">
    <id>bin</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <dependencySets>
        <dependencySet>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <useProjectArtifact>${project.groupId}:brmo-proxyservice</useProjectArtifact>
            <outputDirectory>wars</outputDirectory>
            <unpack>false</unpack>
            <includes>
                <include>*:war</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <useProjectArtifact>${project.groupId}:brmo-commandline</useProjectArtifact>
            <outputDirectory>tools</outputDirectory>
            <unpack>false</unpack>
            <includes>
                <include>${project.groupId}:brmo-commandline</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <useProjectArtifact>${project.groupId}:brmo-dist</useProjectArtifact>
            <outputDirectory>drivers/pgsql/</outputDirectory>
            <unpack>false</unpack>
            <includes>
                <include>com.sun.mail:jakarta.mail</include>
                <include>com.sun.activation:jakarta.activation</include>
                <include>org.postgresql:postgresql</include>
                <include>net.postgis:postgis-jdbc</include>
                <include>net.postgis:postgis-geometry</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}-${artifact.version}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <useProjectArtifact>${project.groupId}:brmo-dist</useProjectArtifact>
            <outputDirectory>drivers/mssql/</outputDirectory>
            <unpack>false</unpack>
            <includes>
                <include>com.sun.mail:jakarta.mail</include>
                <include>com.sun.activation:jakarta.activation</include>
                <include>com.microsoft.sqlserver:mssql-jdbc</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}-${artifact.version}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <useProjectArtifact>${project.groupId}:brmo-dist</useProjectArtifact>
            <outputDirectory>drivers/oracle/</outputDirectory>
            <unpack>false</unpack>
            <includes>
                <include>com.sun.mail:jakarta.mail</include>
                <include>com.sun.activation:jakarta.activation</include>
                <include>com.oracle.database.jdbc:ojdbc8</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}-${artifact.version}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <outputDirectory>drivers/optional-java11-libs/</outputDirectory>
            <unpack>false</unpack>
            <includes>
                <include>jakarta.activation:jakarta.activation-api</include>
                <include>jakarta.mail:jakarta.mail-api</include>
                <include>jakarta.xml.bind:jakarta.xml.bind-api</include>
                <include>org.glassfish.jaxb:jaxb-runtime</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}-${artifact.version}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
    </dependencySets>
    <fileSets>
        <fileSet>
            <directory>../${project.basedir}/brmo-persistence/db/</directory>
            <outputDirectory>db/staging/</outputDirectory>
            <includes>
                <include>**/*.sql</include>
            </includes>
            <excludes>
                <exclude>brmo-persistence-h2.sql</exclude>
            </excludes>
            <filtered>true</filtered>
        </fileSet>
        <fileSet>
            <directory>../${project.basedir}/datamodel/generated_scripts/</directory>
            <outputDirectory>db/rsgb</outputDirectory>
            <includes>
                <include>**/*oracle.sql</include>
                <include>**/*postgresql.sql</include>
                <include>**/*sqlserver.sql</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../${project.basedir}/datamodel/upgrade_scripts/</directory>
            <outputDirectory>db/upgrade_scripts</outputDirectory>
            <includes>
                <include>**/*.sql</include>
                <include>**/*.md</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../${project.basedir}/datamodel/extra_scripts/</directory>
            <outputDirectory>db/upgrade_scripts/1.5.2-1.6.0</outputDirectory>
            <includes>
                <include>**/206_*.sql</include>
                <include>**/207_*.sql</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../${project.basedir}/bgt-gml-loader/target/generated-resources/ddl/</directory>
            <outputDirectory>db/rsgbbgt</outputDirectory>
            <includes>
                <include>**/*.sql</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../${project.basedir}/topparser/src/main/resources/nl/b3p/topnl/database/</directory>
            <outputDirectory>db/topnl</outputDirectory>
            <includes>
                <include>**/*.sql</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../${project.basedir}/</directory>
            <outputDirectory/>
            <includes>
                <include>LICENSE</include>
                <include>README.md</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>${project.basedir}/src/site/markdown</directory>
            <outputDirectory>drivers/</outputDirectory>
            <includes>
                <include>drivers.md</include>
            </includes>
        </fileSet>
    </fileSets>
</assembly>
