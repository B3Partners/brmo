-- 
-- upgrade Oracle RSGBBGT datamodel van 1.5.2 naar 1.6.0
--

alter table bak drop column datum_einde_geldh;
alter table bak drop column bijwerkdatum;
alter table bak add tijdstip_registratie timestamp;
alter table begroeid_terreindeel drop column datum_einde_geldh;
alter table begroeid_terreindeel drop column bijwerkdatum;
alter table begroeid_terreindeel add tijdstip_registratie timestamp;
alter table bord drop column datum_einde_geldh;
alter table bord drop column bijwerkdatum;
alter table bord add tijdstip_registratie timestamp;
alter table functioneelgebied drop column datum_einde_geldh;
alter table functioneelgebied drop column bijwerkdatum;
alter table functioneelgebied add tijdstip_registratie timestamp;
alter table gebouw_installatie drop column datum_einde_geldh;
alter table gebouw_installatie drop column bijwerkdatum;
alter table gebouw_installatie add tijdstip_registratie timestamp;
alter table installatie drop column datum_einde_geldh;
alter table installatie drop column bijwerkdatum;
alter table installatie add tijdstip_registratie timestamp;
alter table kast drop column datum_einde_geldh;
alter table kast drop column bijwerkdatum;
alter table kast add tijdstip_registratie timestamp;
alter table mast drop column datum_einde_geldh;
alter table mast drop column bijwerkdatum;
alter table mast add tijdstip_registratie timestamp;
alter table paal drop column datum_einde_geldh;
alter table paal drop column bijwerkdatum;
alter table paal add tijdstip_registratie timestamp;
alter table put drop column datum_einde_geldh;
alter table put drop column bijwerkdatum;
alter table put add tijdstip_registratie timestamp;
alter table sensor drop column datum_einde_geldh;
alter table sensor drop column bijwerkdatum;
alter table sensor add tijdstip_registratie timestamp;
alter table openbareruimtelabel drop column datum_einde_geldh;
alter table openbareruimtelabel drop column bijwerkdatum;
alter table openbareruimtelabel add tijdstip_registratie timestamp;
alter table overige_scheiding drop column datum_einde_geldh;
alter table overige_scheiding drop column bijwerkdatum;
alter table overige_scheiding add tijdstip_registratie timestamp;
alter table scheiding drop column datum_einde_geldh;
alter table scheiding drop column bijwerkdatum;
alter table scheiding add tijdstip_registratie timestamp;
alter table overig_bouwwerk drop column datum_einde_geldh;
alter table overig_bouwwerk drop column bijwerkdatum;
alter table overig_bouwwerk add tijdstip_registratie timestamp;
alter table ongeclassificeerdobject drop column datum_einde_geldh;
alter table ongeclassificeerdobject drop column bijwerkdatum;
alter table ongeclassificeerdobject add tijdstip_registratie timestamp;
alter table waterdeel drop column datum_einde_geldh;
alter table waterdeel drop column bijwerkdatum;
alter table waterdeel add tijdstip_registratie timestamp;
alter table kunstwerkdeel drop column datum_einde_geldh;
alter table kunstwerkdeel drop column bijwerkdatum;
alter table kunstwerkdeel add tijdstip_registratie timestamp;
alter table onbegroeid_terreindeel drop column datum_einde_geldh;
alter table onbegroeid_terreindeel drop column bijwerkdatum;
alter table onbegroeid_terreindeel add tijdstip_registratie timestamp;
alter table overbruggingsdeel drop column datum_einde_geldh;
alter table overbruggingsdeel drop column bijwerkdatum;
alter table overbruggingsdeel add tijdstip_registratie timestamp;
alter table straatmeubilair drop column datum_einde_geldh;
alter table straatmeubilair drop column bijwerkdatum;
alter table straatmeubilair add tijdstip_registratie timestamp;
alter table ondersteunend_waterdeel drop column datum_einde_geldh;
alter table ondersteunend_waterdeel drop column bijwerkdatum;
alter table ondersteunend_waterdeel add tijdstip_registratie timestamp;
alter table ondersteunend_wegdeel drop column datum_einde_geldh;
alter table ondersteunend_wegdeel drop column bijwerkdatum;
alter table ondersteunend_wegdeel add tijdstip_registratie timestamp;
alter table spoor drop column datum_einde_geldh;
alter table spoor drop column bijwerkdatum;
alter table spoor add tijdstip_registratie timestamp;
alter table weginrichtingselement drop column datum_einde_geldh;
alter table weginrichtingselement drop column bijwerkdatum;
alter table weginrichtingselement add tijdstip_registratie timestamp;
alter table vegetatieobject drop column datum_einde_geldh;
alter table vegetatieobject drop column bijwerkdatum;
alter table vegetatieobject add tijdstip_registratie timestamp;
alter table tunneldeel drop column datum_einde_geldh;
alter table tunneldeel drop column bijwerkdatum;
alter table tunneldeel add tijdstip_registratie timestamp;
alter table waterinrichtingselement drop column datum_einde_geldh;
alter table waterinrichtingselement drop column bijwerkdatum;
alter table waterinrichtingselement add tijdstip_registratie timestamp;
alter table wegdeel drop column datum_einde_geldh;
alter table wegdeel drop column bijwerkdatum;
alter table wegdeel add tijdstip_registratie timestamp;
alter table pand drop column datum_einde_geldh;
alter table pand drop column bijwerkdatum;
alter table pand add tijdstip_registratie timestamp;
alter table buurt drop column datum_einde_geldh;
alter table buurt drop column bijwerkdatum;
alter table buurt add tijdstip_registratie timestamp;
alter table wijk drop column datum_einde_geldh;
alter table wijk drop column bijwerkdatum;
alter table wijk add tijdstip_registratie timestamp;
alter table openbareruimte drop column datum_einde_geldh;
alter table openbareruimte drop column bijwerkdatum;
alter table openbareruimte add tijdstip_registratie timestamp;

-- onderstaande dienen als laatste stappen van een upgrade uitgevoerd
INSERT INTO brmo_metadata (naam,waarde) SELECT 'upgrade_1.5.2_naar_1.6.0','vorige versie was '||waarde FROM brmo_metadata WHERE naam='brmoversie';
-- versienummer update
UPDATE brmo_metadata SET waarde='1.6.0' WHERE naam='brmoversie';

commit;